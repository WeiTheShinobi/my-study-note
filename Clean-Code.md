# *《Clean Code》*

> 筆記作者：Wei the Shinobi 葉高緯
>
> 記下對我來說重要的

開發時，我們花費大量的時間在閱讀舊程式碼，

因為要了解舊的才能寫新的，

所以**提高可讀性就是提高效率**。

## 第二章 有意義的命名

簡單的程式碼也可以難以閱讀

要避免使用抽象的命名

讓名稱代表意圖

- 避免誤導

不要相似的名稱，也不要會被誤認為其他單詞的名稱，小寫的`l`和大寫的`O`

- 有意義的區別

message 和 messageInfo 沒有區別

- 類別用名詞、方法用動詞

- 一個概念使用一種字詞

例如 controller 和 manager

讓人難以看出差別

- 專業領域的命名

使用的設計模式的名稱、演算法的名稱

- 無意義的上下文資訊

## 第三章 函式

- 函式應該要盡量的簡短，易於閱讀
- 傳入布林值是糟糕的作法，因為這讓函式做了兩件事，不如拆成兩個
- 傳入的參數應該越少越好，可以傳入物件代替多個參數
- 不要有副作用
- 使用例外取代回傳錯誤碼

一開始寫出的函式肯定雜亂，但通過準則慢慢修改到好。

## 第四章 註解

好的程式碼不需要註解，

註解是用來彌補我們的失敗。

尤其註解可能會隨著更新欺騙你，但程式碼絕對不會。

好的註解：

- 可以寫下解釋這段程式碼的意圖
- 可以寫下程式碼的問題 ex. not thread safe
- // TODO 可以讓 IDE 找到代辦事項，但要記得刪除
- 公共 API 裡的 Javadoc，無庸置疑

爛的註解：

- 把程式碼的過程描述一次，直接看程式碼就好了
- 註解不夠精確，導致誤導
- 日誌註解，請使用 VCS
- 署名，VCS 知道作者是誰，而且隨著時間可能也不一定了
- 註解程式碼

## 第五章 編排

- 程式碼應該像報紙一樣，短而多篇，而不是大長篇。
- 當程式碼進入不同的概念，用空白分隔開。
- 為了不再讀程式碼時跳來跳去，應該有些固定的規則

變數宣告在開始

相依的函式要在附近，呼叫要在被呼叫的上方

概念相似的函式也要放一起

- 重要的是團隊的一致性

## 第六章 物件及資料結構

隱藏實作的細節，就是抽象化的過程。

結構化的程式碼容易添加新的函式，但不容易添加新的資料結構；

物件導向的程式碼容易添加新的類別，但不易更動已有函式。（因為要全都改）

- 火車事故

超長一串相連的程式碼呼叫

```java
String test = obj.getA().getB().getC().getD().getE();
```

- 隱藏結構

不應該需要去了解結構，而是告訴它去做某些事。

## 第七章 錯誤處理

